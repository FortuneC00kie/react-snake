!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("base",[],t):"object"==typeof exports?exports.base=t():e.base=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){n(1),n(2);var i=n(3),r=n(7),o=n(5),a=n(6),s=n(8),c={version:"0.2.0",MTop:i["default"]||i,Bridge:r["default"]||r,Q:o["default"]||o,JSBridge:a["default"]||a,Tracker:s["default"]||s};e.exports=c},function(e,t){var n=function(){function e(e){return null==e?String(e):G[$.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function s(e){return L.call(e,function(e){return null!=e})}function c(e){return e.length>0?T.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in I?I[e]:I[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||R[u(e)]?t:t+"px"}function d(e){var t,n;return P[e]||(t=j.createElement(e),j.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),P[e]=n),P[e]}function p(e){return"children"in e?O.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t){var n,i=e?e.length:0;for(n=0;i>n;n++)this[n]=e[n];this.length=i,this.selector=t||""}function m(e,t,n){for(S in t)n&&(o(t[S])||Z(t[S]))?(o(t[S])&&!o(e[S])&&(e[S]={}),Z(t[S])&&!Z(e[S])&&(e[S]=[]),m(e[S],t[S],n)):t[S]!==E&&(e[S]=t[S])}function g(e,t){return null==t?T(e):T(e).filter(t)}function v(e,n,i,r){return t(n)?n.call(e,i,r):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t){var n=e.className||"",i=n&&n.baseVal!==E;return t===E?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)w(e.childNodes[n],t)}var E,S,T,k,C,A,x=[],N=x.concat,L=x.filter,O=x.slice,j=window.document,P={},I={},R={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,B=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,U=/([A-Z])/g,W=["val","css","html","text","data","width","height","offset"],V=["after","prepend","before","append"],H=j.createElement("table"),J=j.createElement("tr"),K={tr:j.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:J,th:J,"*":j.createElement("div")},F=/complete|loaded|interactive/,Y=/^[\w-]*$/,G={},$=G.toString,Q={},X=j.createElement("div"),z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=X).appendChild(e),i=~Q.qsa(r,t).indexOf(e),o&&X.removeChild(e),i},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},A=function(e){return L.call(e,function(t,n){return e.indexOf(t)==n})},Q.fragment=function(e,t,n){var i,r,a;return B.test(e)&&(i=T(j.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(q,"<$1></$2>")),t===E&&(t=D.test(e)&&RegExp.$1),t in K||(t="*"),a=K[t],a.innerHTML=""+e,i=T.each(O.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(r=T(i),T.each(n,function(e,t){W.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},Q.Z=function(e,t){return new h(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,n){var i;if(!e)return Q.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&D.test(e))i=Q.fragment(e,RegExp.$1,n),e=null;else{if(n!==E)return T(n).find(e);i=Q.qsa(j,e)}else{if(t(e))return T(j).ready(e);if(Q.isZ(e))return e;if(Z(e))i=s(e);else if(r(e))i=[e],e=null;else if(D.test(e))i=Q.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==E)return T(n).find(e);i=Q.qsa(j,e)}}return Q.Z(i,e)},T=function(e,t){return Q.init(e,t)},T.extend=function(e){var t,n=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){m(e,n,t)}),e},Q.qsa=function(e,t){var n,i="#"==t[0],r=!i&&"."==t[0],o=i||r?t.slice(1):t,a=Y.test(o);return e.getElementById&&a&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:O.call(a&&!i&&e.getElementsByClassName?r?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=j.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=Z,T.isPlainObject=o,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return x.indexOf.call(t,e,n)},T.camelCase=C,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,i,r,o=[];if(a(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return c(o)},T.each=function(e,t){var n,i;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},T.grep=function(e,t){return L.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:Q.Z,length:0,forEach:x.forEach,reduce:x.reduce,push:x.push,sort:x.sort,splice:x.splice,indexOf:x.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return N.apply(Q.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(O.apply(this,arguments))},ready:function(e){return F.test(j.readyState)&&j.body?e(T):j.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===E?O.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return x.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(L.call(this,function(t){return Q.matches(t,e)}))},add:function(e,t){return T(A(this.concat(T(e,t))))},is:function(e){return this.length>0&&Q.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?O.call(e):T(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return r(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return x.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=T(e));n&&!(r?r.indexOf(n)>=0:Q.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!i(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return g(t,e)},parent:function(e){return g(A(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return L.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=T(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=T(this),r=i.contents(),o=n?e.call(this,t):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(v(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=v(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(e))for(S in e)y(this,S,e[S]);else y(this,e,v(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:E},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=z[e]||e,1 in arguments?this.each(function(n){this[e]=v(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(U,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?b(i):E},val:function(e){return 0 in arguments?this.each(function(t){this.value=v(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),i=v(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(!T.contains(j.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[C(t)]||i.getPropertyValue(t);if(Z(t)){var o={};return T.each(t,function(e,t){o[t]=r.style[C(t)]||i.getPropertyValue(t)}),o}}var a="";if("string"==e(t))n||0===n?a=u(t)+":"+f(t,n):this.each(function(){this.style.removeProperty(u(t))});else for(S in t)t[S]||0===t[S]?a+=u(S)+":"+f(S,t[S])+";":this.each(function(){this.style.removeProperty(u(S))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?x.some.call(this,function(e){return this.test(_(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){k=[];var n=_(this),i=v(this,e,t,n);i.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||k.push(e)},this),k.length&&_(this,n+(n?" ":"")+k.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===E)return _(this,"");k=_(this),v(this,e,t,k).split(/\s+/g).forEach(function(e){k=k.replace(l(e)," ")}),_(this,k.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=T(this),r=v(this,e,n,_(this));r.split(/\s+/g).forEach(function(e){(t===E?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===E?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=M.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,i.top+=parseFloat(T(t[0]).css("border-top-width"))||0,i.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j.body;e&&!M.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(r){var o,a=this[0];return r===E?n(a)?a["inner"+t]:i(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){a=T(this),a.css(e,v(this,r,t,a[e]()))})}}),V.forEach(function(t,n){var i=n%2;T.fn[t]=function(){var t,r,o=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Q.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=T.contains(j.documentElement,r);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!r)return T(e).remove();r.insertBefore(e,t),s&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),Q.Z.prototype=h.prototype=T.fn,Q.uniq=A,Q.deserializeValue=b,T.zepto=Q,T}();window.Zepto=n,void 0===window.$&&(window.$=n),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,o,a){if(n=i(n),n.ns)var s=r(n.ns);return(g[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||s.test(e.ns))&&(!o||t(e.fn)===t(o))&&(!a||e.sel==a)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!y&&e.e in _||!!t}function a(e){return b[e]||y&&_[e]||e}function s(n,r,s,c,l,d,p){var h=t(n),m=g[h]||(g[h]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var r=i(t);r.fn=s,r.sel=l,r.e in b&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=d;var h=d||s;r.proxy=function(e){if(e=u(e),!e.isImmediatePropagationStopped()){e.data=c;var t=h.apply(n,e._args==f?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(a(r.e),r.proxy,o(r,p))})}function c(e,i,r,s,c){var u=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,r,s).forEach(function(t){delete g[u][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,o(t,c))})})}function u(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,i){var r=n[e];t[e]=function(){return this[i]=w,r&&r.apply(n,arguments)},t[i]=E}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=w)),t}function l(e){var t,n={originalEvent:e};for(t in e)S.test(t)||e[t]===f||(n[t]=e[t]);return u(n,e)}var f,d=1,p=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},v={},y="onfocusin"in window,_={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",e.event={add:s,remove:c},e.proxy=function(n,i){var r=2 in arguments&&p.call(arguments,2);if(h(n)){var o=function(){return n.apply(i,r?r.concat(p.call(arguments)):arguments)};return o._zid=t(n),o}if(m(i))return r?(r.unshift(n[i],n),e.proxy.apply(null,r)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var w=function(){return!0},E=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,o){var a,u,d=this;return t&&!m(t)?(e.each(t,function(e,t){d.on(e,n,i,t,o)}),d):(m(n)||h(r)||r===!1||(r=i,i=n,n=f),(r===f||i===!1)&&(r=i,i=f),r===!1&&(r=E),d.each(function(f,d){o&&(a=function(e){return c(d,e.type,r),r.apply(this,arguments)}),n&&(u=function(t){var i,o=e(t.target).closest(n,d).get(0);return o&&o!==d?(i=e.extend(l(t),{currentTarget:o,liveFired:d}),(a||r).apply(o,[i].concat(p.call(arguments,1)))):void 0}),s(d,t,r,i,n,u||a)}))},e.fn.off=function(t,n,i){var r=this;return t&&!m(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(m(n)||h(i)||i===!1||(i=n,n=f),i===!1&&(i=E),r.each(function(){c(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):u(t),t._args=n,this.each(function(){t.type in _&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,o;return this.each(function(a,s){r=l(m(t)?e.Event(t):t),r._args=i,r.target=s,e.each(n(s,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(v[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),u(n)}}(n),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.isDefaultPrevented()}function n(e,n,i,r){return e.global?t(n||y,i,r):void 0}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var i=t.context;return t.beforeSend.call(i,e,t)===!1||n(t,i,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,i,"ajaxSend",[e,t])}function a(e,t,i,r){var o=i.context,a="success";i.success.call(o,e,a,t),r&&r.resolveWith(o,[e,a,t]),n(i,o,"ajaxSuccess",[t,i,e]),c(a,t,i)}function s(e,t,i,r,o){var a=r.context;r.error.call(a,i,t,e),o&&o.rejectWith(a,[i,t,e]),n(r,a,"ajaxError",[i,r,e||t]),c(t,i,r)}function c(e,t,i){var o=i.context;i.complete.call(o,t,e),n(i,o,"ajaxComplete",[t,i]),r(i)}function u(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==S?"html":e==E?"json":b.test(e)?"script":w.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=void 0)}function p(t,n,i,r){return e.isFunction(n)&&(r=i,i=n,n=void 0),e.isFunction(i)||(r=i,i=void 0),{url:t,data:n,success:i,dataType:r}}function h(t,n,i,r){var o,a=e.isArray(n),s=e.isPlainObject(n);e.each(n,function(n,c){o=e.type(c),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?t.add(c.name,c.value):"array"==o||!i&&"object"==o?h(t,c,i,n):t.add(n,c)})}var m,g,v=0,y=window.document,_=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,E="application/json",S="text/html",T=/^\s*$/,k=y.createElement("a");k.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,r,c=t.jsonpCallback,u=(e.isFunction(c)?c():c)||"jsonp"+ ++v,l=y.createElement("script"),f=window[u],d=function(t){e(l).triggerHandler("error",t||"abort")},p={abort:d};return n&&n.promise(p),e(l).on("load error",function(o,c){clearTimeout(r),e(l).off().remove(),"error"!=o.type&&i?a(i[0],p,t,n):s(null,c||"error",p,t,n),window[u]=f,i&&e.isFunction(f)&&f(i[0]),f=i=void 0}),o(p,t)===!1?(d("abort"),p):(window[u]=function(){i=arguments},l.src=t.url.replace(/\?(.+)=\?/,"?$1="+u),y.head.appendChild(l),t.timeout>0&&(r=setTimeout(function(){d("timeout")},t.timeout)),p)},e.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,r,c=e.extend({},t||{}),p=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===c[m]&&(c[m]=e.ajaxSettings[m]);i(c),c.crossDomain||(n=y.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=k.protocol+"//"+k.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(r=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,r)),d(c);var h=c.dataType,v=/\?.+=\?/.test(c.url);if(v&&(h="jsonp"),c.cache!==!1&&(t&&t.cache===!0||"script"!=h&&"jsonp"!=h)||(c.url=f(c.url,"_="+Date.now())),"jsonp"==h)return v||(c.url=f(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),e.ajaxJSONP(c,p);var _,b=c.accepts[h],w={},E=function(e,t){w[e.toLowerCase()]=[e,t]},S=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,C=c.xhr(),A=C.setRequestHeader;if(p&&p.promise(C),c.crossDomain||E("X-Requested-With","XMLHttpRequest"),E("Accept",b||"*/*"),(b=c.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(b)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&E("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(g in c.headers)E(g,c.headers[g]);if(C.setRequestHeader=E,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=u,clearTimeout(_);var t,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==S){if(h=h||l(c.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)t=C.response;else{t=C.responseText;try{"script"==h?(0,eval)(t):"xml"==h?t=C.responseXML:"json"==h&&(t=T.test(t)?null:e.parseJSON(t))}catch(i){n=i}if(n)return s(n,"parsererror",C,c,p)}a(t,C,c,p)}else s(C.statusText||null,C.status?"error":"abort",C,c,p)}},o(C,c)===!1)return C.abort(),s(null,"abort",C,c,p),C;if(c.xhrFields)for(g in c.xhrFields)C[g]=c.xhrFields[g];var x="async"in c?c.async:!0;C.open(c.type,c.url,x,c.username,c.password);for(g in w)A.apply(C,w[g]);return c.timeout>0&&(_=setTimeout(function(){C.onreadystatechange=u,C.abort(),s(null,"timeout",C,c,p)},c.timeout)),C.send(c.data?c.data:null),C},e.get=function(){return e.ajax(p.apply(null,arguments))},e.post=function(){var t=p.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=p.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,a=t.split(/\s/),s=p(t,n,i),c=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(t){o.html(r?e("<div>").html(t.replace(_,"")).find(r):t),c&&c.apply(o,arguments)},e.ajax(s),this};var C=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(C(t)+"="+C(n))},h(i,t,n),i.join("&").replace(/%20/g,"+")}}(n),e.exports=$},function(e,t){!function(e,t){function n(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(r)&&(r=0),r>i)return-1;if(i>r)return 1}return 0}var i=e.Promise,r=e.document,o=e.navigator.userAgent,a=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(o)||/Windows\sNT\s[\d\.]+/i.test(o),s=a&&e.WindVane_Win_Private&&e.WindVane_Win_Private.call,c=/iPhone|iPad|iPod/i.test(o),u=/Android/i.test(o),l=o.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),f=Object.prototype.hasOwnProperty,d=t.windvane=e.WindVane||(e.WindVane={}),p=(e.WindVane_Native,1),h=[],m=3,g="hybrid",v="wv_hybrid",y="iframe_",_="suc_",b="err_",w="defer_",E="param_",S="chunk_",T=6e5,k=6e5,C=6e4;l=l?(l[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var A={isAvailable:1===n(l,"0"),call:function(e,t,n,r,o,a){var s,c;return"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof r&&(r=null),"function"!=typeof o&&(o=null),i&&(c={},c.promise=new i(function(e,t){c.resolve=e,c.reject=t})),s=a>0?setTimeout(function(){A.onFailure(s,{ret:"HY_TIMEOUT"})},a):x.getSid(),x.registerCall(s,r,o,c),x.registerGC(s,a),A.isAvailable?x.callMethod(e,t,n,s):A.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c?c.promise:void 0},fireEvent:function(e,t,n){var i=r.createEvent("HTMLEvents");i.initEvent(e,!1,!0),i.param=x.parseData(t||x.getData(n)),r.dispatchEvent(i)},getParam:function(e){return x.getParam(e)},setData:function(e,t){x.setData(e,t)},onSuccess:function(e,t){x.onComplete(e,t,"success")},onFailure:function(e,t){x.onComplete(e,t,"failure")}},x={params:{},chunks:{},calls:{},getSid:function(){return Math.floor(Math.random()*(1<<50))+""+p++},buildParam:function(e){return e&&"object"==typeof e?JSON.stringify(e):e||""},getParam:function(e){return this.params[E+e]||""},setParam:function(e,t){this.params[E+e]=t},parseData:function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(n){t={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},setData:function(){this.chunks[S+sid]=this.chunks[S+sid]||[],this.chunks[S+sid].push(chunk)},getData:function(e){return this.chunks[S+e]?this.chunks[S+e].join(""):""},registerCall:function(e,t,n,i){t&&(this.calls[_+e]=t),n&&(this.calls[b+e]=n),i&&(this.calls[w+e]=i)},unregisterCall:function(e){var t=_+e,n=b+e,i=w+e,r={};return this.calls[t]&&(r.success=this.calls[t],delete this.calls[t]),this.calls[n]&&(r.failure=this.calls[n],delete this.calls[n]),this.calls[i]&&(r.deferred=this.calls[i],delete this.calls[i]),r},useIframe:function(e,t){var n=y+e,i=h.pop();i||(i=r.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",t),i.parentNode||setTimeout(function(){r.body.appendChild(i)},5)},retrieveIframe:function(e){var t=y+e,n=r.querySelector("#"+t);h.length>=m?r.body.removeChild(n):h.push(n)},callMethod:function(t,n,i,r){if(i=x.buildParam(i),a)s?e.WindVane_Win_Private.call(t,n,r,i):this.onComplete(r,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var o=g+"://"+t+":"+r+"/"+n+"?"+i;if(c)this.setParam(r,i),this.useIframe(r,o);else if(u){var l=v+":";window.prompt(o,l)}else this.onComplete(r,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function(e,t){var n=this,i=Math.max(t||0,T),r=Math.max(t||0,C),o=Math.max(t||0,k);setTimeout(function(){n.unregisterCall(e)},i),c?setTimeout(function(){n.params[E+e]&&delete n.params[E+e]},r):u&&setTimeout(function(){n.chunks[S+e]&&delete n.chunks[S+e]},o)},onComplete:function(e,t,n){clearTimeout(e);var i=this.unregisterCall(e),r=i.success,o=i.failure,a=i.deferred;t=t?t:this.getData(e),t=this.parseData(t);var s=t.ret;"string"==typeof s&&(t=t.value||t,t.ret||(t.ret=[s])),"success"===n?(r&&r(t),a&&a.resolve(t)):"failure"===n&&(o&&o(t),a&&a.reject(t)),c?(this.retrieveIframe(e),this.params[E+e]&&delete this.params[E+e]):u&&this.chunks[S+e]&&delete this.chunks[S+e]}};for(var N in A)f.call(d,N)||(d[N]=A[N])}(window,window.lib||(window.lib={}))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(module){"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){"object"===_typeof2(exports)&&"object"===_typeof2(module)?module.exports=t(__webpack_require__(5),__webpack_require__(6),__webpack_require__(8)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(5),__webpack_require__(6),__webpack_require__(8)],__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(void 0,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_2__,__WEBPACK_EXTERNAL_MODULE_3__){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(module,exports,__webpack_require__){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function alipayCall(e){e=e||function(){},window.AlipayJSBridge&&AlipayJSBridge.call?e():document.addEventListener("AlipayJSBridgeReady",e,!1)}function dispatchEvent(e,t,n){var i=document.createEvent("Events"),r=!0;if(n)for(var o in n)({}).hasOwnProperty.call(n,o)&&("bubbles"===o?r=!!n[o]:i[o]=n[o]);i.initEvent(t,r,!0),e.dispatchEvent(i)}function configPrism(e){"undefined"!=typeof e._prism_lk&&(window._prism_lk=e._prism_lk)}function insertPrism(e){return"undefined"!=typeof window._prism_lk&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(e._prism_lk=JSON.stringify(window._prism_lk)),e}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":_typeof2(e)},_q=__webpack_require__(1),_q2=_interopRequireDefault(_q),_jsbridge=__webpack_require__(2),_jsbridge2=_interopRequireDefault(_jsbridge),_tracker=__webpack_require__(3),_tracker2=_interopRequireDefault(_tracker);__webpack_require__(4),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){
var r=arguments[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),a=0,s=o.length;s>a;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(r,c);void 0!==u&&u.enumerable&&(n[c]=r[c])}}return n}});var hostname=window.location.hostname,hostRegexp=/.*?([^.]+)(?:\.x)?\.(alitrip|taobao|tmall|etao|alibaba|alipay|aliyun)\.(com|net).*/i,domain=(/\.alitrip\./.test(hostname)?"alitrip":"taobao")+"."+(/\.net/.test(hostname)?"net":"com"),env=function(){var e=hostname.indexOf("x.taobao.net")>0?"waptest":"m",t=hostname.match(hostRegexp);return t&&["waptest","wapa","m","waptest2nd"].indexOf(t[1])>-1&&(e=t[1]),e}(),protocol="https:";/https:/i.test(location.protocol)||"waptest"!==env&&"wapa"!==env||(protocol="http:");var passURL=protocol+"//login.<%= domain %>/jump?target=<%= redirect %>",loginURL=protocol+"//login.<%= env %>.<%= domain %>/login.htm?tpl_redirect_url=<%= redirect %>",requestQueue=[],isRunning=!1,jsonpInc=1,sendPerformanceLog=function(e,t){var n={TIMEOUT:"timeout",ACTIVE_ABORT:"abort",success:"success",failure:"failure"};_tracker2["default"]&&_tracker2["default"].timelineEnd&&_tracker2["default"].timelineEnd(e.api,n[t]||t,{useNative:e.useNative},"mtop")},randomUID=function e(){for(var t="abcdefghijklmnopqrstuvwxyz",n=8,i="",r=0,o=t.length;n>r;r++)i+=t.substr(0|Math.random()*o,1);return e.uids[i]?e(n):e.uids[i]=i};randomUID.uids={};var requestHistory={},Util={container:function(){var e=!1,t=!1,n=!1,i=!1;return e=function(){return/AlipayClient/i.test(navigator.userAgent)}(),t=function(){return/AliTrip/i.test(navigator.userAgent)}(),n=function(){return/Aliapp\(TB/i.test(navigator.userAgent)}(),i=function(){return/AliApp\(TM/i.test(navigator.userAgent)}(),{isAlipay:e,isAlitrip:t,isTaobao:n,isTmall:i}}(),useNative:function(e){return this.container.isAlitrip?e.alitrip:this.container.isAlipay?e.alipay&&this.compareVersion("AlipayClient","9.0.1")>=0:this.container.isTaobao?e.taobao&&("android"===_jsbridge2["default"].device.type&&this.compareVersion("TB","5.2.12")>=0||"ios"===_jsbridge2["default"].device.type&&this.compareVersion("TB","5.2.9")>=0)&&window.WindVane:this.container.isTmall?e.tmall&&this.compareVersion("TM","5.2.0")>=0&&window.WindVane:!1},compareVersion:function(e,t,n){var i=new RegExp(e+"[\\s\\/]([\\d\\.]+)","i"),r=navigator.userAgent.match(i),o=r&&r[1]?r[1]:0;if(!o)return-1;for(var a=o.split("."),s=t.split("."),c=n||a.length,u=-1;++u<c;){var l=Number(a[u])||0,f=Number(s[u])||0;if(l>f)return 1;if(f>l)return-1}return 0},deleteCookie:function(e,t,n){var i=new Date,n=n||"/",t=t||window.location.hostname;i.setTime(i.getTime()-1e3),document.cookie=e+"=;path="+n+";domain="+t+";expires="+i.toGMTString()},getCookie:function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:null},goLogin:function(){this.isGoingToLogin||(this.isGoingToLogin=!0,_jsbridge2["default"].getEnv().then(function(e){var t=domain.replace(/alitrip/i,"taobao");if(location.href.indexOf(".alitrip.")>-1&&!_jsbridge2["default"].isAlitrip&&!_jsbridge2["default"].isTaobao&&!_jsbridge2["default"].isAlipay){var n=passURL.replace(/\<\%\=\s*env\s*\%\>/i,e).replace(/\<\%\=\s*domain\s*\%\>/i,t).replace(/\<\%\=\s*redirect\s*\%\>/i,encodeURIComponent(location.href));location.href=loginURL.replace(/\<\%\=\s*env\s*\%\>/i,e).replace(/\<\%\=\s*domain\s*\%\>/i,t).replace(/\<\%\=\s*redirect\s*\%\>/i,encodeURIComponent(n))}else location.href=loginURL.replace(/\<\%\=\s*env\s*\%\>/i,e).replace(/\<\%\=\s*domain\s*\%\>/i,t).replace(/\<\%\=\s*redirect\s*\%\>/i,encodeURIComponent(location.href))}))},getAppKey:function(){var e="J_app_key",t=document.getElementById(e);return t?t.value:"waptest"===env?"4272":"12574478"},deleteToken:function(e,t){this.deleteCookie(this.TOKEN_KEY,e,t)},mergeParams:function(e){var t,n,i={};for(t in e)n=e[t],e.hasOwnProperty(t)&&("function"==typeof n?i[t]=n():i[t]=n);return i},parseParams:function(e){return this.mergeParams(e)},request:function(e,t,n){var i=this;e.v=e.v||"*",e.useNative&&e.needLogin&&this.useNative(e)&&(e.timeout=e.timeout||3e5),e.useNative&&this.useNative(e)||"object"!==_typeof(e.data)||(e.data=JSON.stringify(e.data||{})||"{}"),i.sendInQueue(e,t,n)},sendInQueue:function(e,t,n){var i=[e,t,n];requestQueue.push(i),requestHistory[e.uid].status="inQueue",requestHistory[e.uid].abort=function(){for(var t=0,n=requestQueue.length;n>t;t++)if(requestQueue[t]===i){requestQueue.splice(t,1),requestHistory[e.uid].status="complete";break}},this.runNextInQueue()},runNextInQueue:function(){if(requestQueue.length&&!isRunning){isRunning=!0;var e=requestQueue.shift();requestHistory[e[0].uid].status="outQueue",this.sendRequest.apply(this,e)}},sendRequest:function sendRequest(options,success,failure){function _noNeedToValidate(e){document.removeEventListener("sufei:validateDone",_validateDone),document.removeEventListener("sufei:noNeedToValidate",_noNeedToValidate),callback.apply(this,[e[0]])}function _validateDone(e){document.removeEventListener("sufei:validateDone",_validateDone);var _options=Object.assign(options);try{var sm=eval("({"+e[0].replace(/&/g,",").replace(/\=/g,":").replace(/([^\,\:]+)/g,'"$1"')+"})");_options.data=Object.assign({},JSON.parse(_options.data||{}),sm),_options.data=JSON.stringify(_options.data)}catch(e){}self.getApiUrlPromise(_options).then(function(e){self.send(e,callback,_options)},function(){callback(Object.assign({},_options,{ret:["ACTIVE_ABORT::手动中止请求"]}))})}var self=this,callback=this.createHandler(options,success,failure);document.addEventListener("sufei:validateDone",_validateDone),document.addEventListener("sufei:noNeedToValidate",_noNeedToValidate),this.getApiUrlPromise(options).then(function(e){self.send(e,callback,options)})},createHandler:function t(e,n,i){function r(r){var a=(r&&r.ret||[]).join(",");if(/SUCCESS/i.test(a)){isRunning=!1,o.runNextInQueue();try{n&&n(r)}catch(c){}}else{if(/TOKEN_EMPTY|TOKEN_EXPIRED|TOKEN_EXOIRED/i.test(a)){if(t.failTimes++<s)o.sendRequest(e,n,i);else{t.failTimes=0,o.deleteToken(),isRunning=!1,o.runNextInQueue();try{i&&i(r)}catch(c){}}return void function(){try{var t=a.split("::");_tracker2["default"]&&_tracker2["default"].log&&_tracker2["default"].log(r.api,{errorName:"MTOP_ERROR::TOKEN",errorCode:t[0],errorMesage:t[1]||"mtop token异常",errorDetail:r.api,v:r.v,useNative:e.useNative},null,"mtop")}catch(n){}}()}if(/SESSION_EXPIRED|SID_INVALID|AUTH_REJECT|NEED_LOGIN/.test(a)){if(function(){try{var t=a.split("::");_tracker2["default"]&&_tracker2["default"].log&&_tracker2["default"].log(r.api,{errorName:"MTOP_ERROR::SESSION",errorCode:t[0],errorMesage:t[1]||"mtop session异常",errorDetail:r.api,v:r.v,useNative:e.useNative},null,"mtop")}catch(n){}}(),e.needLogin)return void o.goLogin();isRunning=!1,o.runNextInQueue();try{i&&i(r)}catch(c){}}else{!function(){try{var t=a.split("::");_tracker2["default"]&&_tracker2["default"].log&&_tracker2["default"].log(r.api,{errorName:"MTOP_ERROR::OTHER",errorCode:t[0],errorMesage:t[1]||"mtop 其他异常",errorDetail:r.api,v:r.v,useNative:e.useNative},null,"mtop")}catch(n){}}(),isRunning=!1,o.runNextInQueue();try{i&&i(r)}catch(c){}}}}var o=this;try{_tracker2["default"]&&_tracker2["default"].log("requestLog",{request:e},null,"mtop")}catch(a){}t.failTimes=t.failTimes||0;var s=3;return r},getApiUrlPromise:function(e){var t=this,n=_q2["default"].defer();return e=t.parseParams(Object.assign({},e)),requestHistory[e.uid].abort=function(){n.reject()},_jsbridge2["default"].getTTid().then(function(i){if(e.useNative&&t.useNative(e))return!e.ttid&&i&&(e.ttid=i),void n.resolve(e);var r=hostname.match(hostRegexp),o=protocol+"//"+[r&&"etao"===r[2]?"apie":"api",env,domain].join(".")+"/rest/"+mtop.name,a=[];a.push("callback=jsonpCallback"),e.type?(a.push("type="+e.type),delete e.type):a.push("type=originaljsonp");for(var s in e)"timeout"!==s&&a.push(s+"="+encodeURIComponent(e[s]));i&&a.push("ttid="+i);var c=location.search.match(/sprefer=([^=&]+)/);c&&c[1]&&a.push("sprefer="+c[1]);var u=(new Date).getTime();a.push("appKey="+t.getAppKey()),a.push("t="+u),t.getSignPromise(e.data,u).then(function(e){a.push("sign="+e);var t=o+"?"+a.join("&");n.resolve(t)})}),n.promise},getSignPromise:function(e,t){var n=this,i=_q2["default"].defer();return Util.getMTopTokenPromise().then(function(r){var o=n.md5(r+"&"+t+"&"+n.getAppKey()+"&"+e);i.resolve(o)}),i.promise},TOKEN_KEY:"_m_h5_tk",getMTopTokenPromise:function(){var e=_q2["default"].defer(),t=(window.navigator.userAgent,function(e){return e?e.split("_")[0]:""}),n=this.getCookie(this.TOKEN_KEY);if(n)e.resolve(t(n));else{var i=void 0;switch(this.container.isAlipay&&(i="alipay"),i){case"alipay":var r=function(){AlipayJSBridge.call("getMtopToken",{domain:domain},function(n){e.resolve(t(n.token))})};alipayCall(r);break;default:e.resolve(t(null))}}return e.promise},send:function(e,t,n){var i=this,r="";r="object"===("undefined"==typeof e?"undefined":_typeof(e))?e.uid:e.match(/uid=([^=&]+)/)[1],requestHistory[r].status="uninitialized";var o=document.createElement("script"),a="mtopjsonp"+jsonpInc++,s=setTimeout(function(){c("TIMEOUT")},n.timeout);window[a]=function(){arguments[0]&&arguments[0].data&&configPrism(arguments[0].data),n&&sendPerformanceLog(n,"success"),s&&clearTimeout(s),requestHistory[r].status="complete",requestHistory[r].abort=function(){},n&&n.useSufei?dispatchEvent(document,"sufei:validateData",arguments):dispatchEvent(document,"sufei:noNeedToValidate",arguments)};var c=function(e){if("complete"!==requestHistory[r].status){n&&sendPerformanceLog(n,e),s&&clearTimeout(s),o&&o.parentNode&&o.parentNode.removeChild(o),requestHistory[r].status="complete",requestHistory[r].abort=function(){};var t="";switch(e){case"TIMEOUT":t="TIMEOUT::超时阈值"+n.timeout;break;case"ACTIVE_ABORT":t="ACTIVE_ABORT::手动中止请求";break;case"ABORT":t="ABORT::mtop请求失败";break;default:t="ERROR::mtop.js未知原因"}window[a](Object.assign({},n,{ret:[t]})),window[a]=function(){delete window[a]}}};if(requestHistory[r].abort=function(){c("ACTIVE_ABORT")},i.beginMtopSend=new Date,_tracker2["default"].timelineStart&&_tracker2["default"].timelineStart(n.api),requestHistory[r].status="loading",e.useNative&&this.container.isAlitrip&&this.useNative(n)){var u=e,l=u.needLogin,f=l?"biz/mtop_ecode_sign":"biz/mtop_normal_sign";return u.successCallback=function(e){e="string"==typeof e?JSON.parse(e):e,window[a]&&window[a].call(this,e)},u.failCallback=function(e){e="string"==typeof e?JSON.parse(e):e,window[a]&&window[a].call(this,e)},u.data&&(u.data._platform_from_h5=!0),void _jsbridge2["default"].pushBack("native:",f,u)}if(e.useNative&&this.container.isAlipay&&this.useNative(n)){if(e.needLogin&&!mtop.isLogin())return void i.goLogin();var d=function(){var t=Object.assign({},e);t.apiName=t.api,delete t.api,t.apiVersion=t.v,delete t.v,t.needEcodeSign=t.needLogin,delete t.needLogin,t.needWua=t.issec>0,t.isNeedWua=t.issec>0,AlipayJSBridge.call("mtop",t,function(e){e="string"==typeof e?JSON.parse(e):e,window[a]&&window[a].call(this,e)})};return void alipayCall(d)}if(e.useNative&&(this.container.isTaobao||this.container.isTmall)&&this.useNative(n)){var u=Object.assign({},e);"originaljsonp"===u.type&&(u.type="originaljson"),"jsonp"===u.type&&(u.type="json"),u.param=e.data,delete u.data,u.ecode=u.needLogin?"1":"0",u.needLogin&&(u.sessionOption="AutoLoginAndManualLogin"),delete u.needLogin,u.issec&&(u.isSec=u.issec),u.timer=u.timeout;var p=function(e){e="string"==typeof e?JSON.parse(e):e,window[a]&&window[a].call(this,e)};return void window.WindVane.call("MtopWVPlugin","send",u,function(e){p(e)},function(e){p(e)})}o.src=e.replace("callback=jsonpCallback","callback="+a),o.sync=!0,o.onerror=function(){c("ABORT")},document.getElementsByTagName("head")[0].appendChild(o)},md5:function(){var e=function(e,t){return e<<t|e>>>32-t},t=function(e,t){var n,i,r,o,a;return r=2147483648&e,o=2147483648&t,n=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t),n&i?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o},n=function(e,t,n){return e&t|~e&n},i=function(e,t,n){return e&n|t&~n},r=function(e,t,n){return e^t^n},o=function(e,t,n){return t^(e|~n)},a=function(i,r,o,a,s,c,u){return i=t(i,t(t(n(r,o,a),s),u)),t(e(i,c),r)},s=function(n,r,o,a,s,c,u){return n=t(n,t(t(i(r,o,a),s),u)),t(e(n,c),r)},c=function(n,i,o,a,s,c,u){return n=t(n,t(t(r(i,o,a),s),u)),t(e(n,c),i)},u=function(n,i,r,a,s,c,u){return n=t(n,t(t(o(i,r,a),s),u)),t(e(n,c),i)},l=function(e){for(var t,n=e.length,i=n+8,r=(i-i%64)/64,o=16*(r+1),a=new Array(o-1),s=0,c=0;n>c;)t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|e.charCodeAt(c)<<s,c++;return t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|128<<s,a[o-2]=n<<3,a[o-1]=n>>>29,a},f=function(e){var t,n,i="",r="";for(n=0;3>=n;n++)t=e>>>8*n&255,r="0"+t.toString(16),i+=r.substr(r.length-2,2);return i},d=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},p=function h(e){var n,i,r,h,o,p,m,g,v,y=[],_=7,b=12,w=17,E=22,S=5,T=9,k=14,C=20,A=4,x=11,N=16,L=23,O=6,j=10,P=15,I=21;for(e=d(e),y=l(e),p=1732584193,m=4023233417,g=2562383102,v=271733878,n=0;n<y.length;n+=16)i=p,r=m,h=g,o=v,p=a(p,m,g,v,y[n+0],_,3614090360),v=a(v,p,m,g,y[n+1],b,3905402710),g=a(g,v,p,m,y[n+2],w,606105819),m=a(m,g,v,p,y[n+3],E,3250441966),p=a(p,m,g,v,y[n+4],_,4118548399),v=a(v,p,m,g,y[n+5],b,1200080426),g=a(g,v,p,m,y[n+6],w,2821735955),m=a(m,g,v,p,y[n+7],E,4249261313),p=a(p,m,g,v,y[n+8],_,1770035416),v=a(v,p,m,g,y[n+9],b,2336552879),g=a(g,v,p,m,y[n+10],w,4294925233),m=a(m,g,v,p,y[n+11],E,2304563134),p=a(p,m,g,v,y[n+12],_,1804603682),v=a(v,p,m,g,y[n+13],b,4254626195),g=a(g,v,p,m,y[n+14],w,2792965006),m=a(m,g,v,p,y[n+15],E,1236535329),p=s(p,m,g,v,y[n+1],S,4129170786),v=s(v,p,m,g,y[n+6],T,3225465664),g=s(g,v,p,m,y[n+11],k,643717713),m=s(m,g,v,p,y[n+0],C,3921069994),p=s(p,m,g,v,y[n+5],S,3593408605),v=s(v,p,m,g,y[n+10],T,38016083),g=s(g,v,p,m,y[n+15],k,3634488961),m=s(m,g,v,p,y[n+4],C,3889429448),p=s(p,m,g,v,y[n+9],S,568446438),v=s(v,p,m,g,y[n+14],T,3275163606),g=s(g,v,p,m,y[n+3],k,4107603335),m=s(m,g,v,p,y[n+8],C,1163531501),p=s(p,m,g,v,y[n+13],S,2850285829),v=s(v,p,m,g,y[n+2],T,4243563512),g=s(g,v,p,m,y[n+7],k,1735328473),m=s(m,g,v,p,y[n+12],C,2368359562),p=c(p,m,g,v,y[n+5],A,4294588738),v=c(v,p,m,g,y[n+8],x,2272392833),g=c(g,v,p,m,y[n+11],N,1839030562),m=c(m,g,v,p,y[n+14],L,4259657740),p=c(p,m,g,v,y[n+1],A,2763975236),v=c(v,p,m,g,y[n+4],x,1272893353),g=c(g,v,p,m,y[n+7],N,4139469664),m=c(m,g,v,p,y[n+10],L,3200236656),p=c(p,m,g,v,y[n+13],A,681279174),v=c(v,p,m,g,y[n+0],x,3936430074),g=c(g,v,p,m,y[n+3],N,3572445317),m=c(m,g,v,p,y[n+6],L,76029189),p=c(p,m,g,v,y[n+9],A,3654602809),v=c(v,p,m,g,y[n+12],x,3873151461),g=c(g,v,p,m,y[n+15],N,530742520),m=c(m,g,v,p,y[n+2],L,3299628645),p=u(p,m,g,v,y[n+0],O,4096336452),v=u(v,p,m,g,y[n+7],j,1126891415),g=u(g,v,p,m,y[n+14],P,2878612391),m=u(m,g,v,p,y[n+5],I,4237533241),p=u(p,m,g,v,y[n+12],O,1700485571),v=u(v,p,m,g,y[n+3],j,2399980690),g=u(g,v,p,m,y[n+10],P,4293915773),m=u(m,g,v,p,y[n+1],I,2240044497),p=u(p,m,g,v,y[n+8],O,1873313359),v=u(v,p,m,g,y[n+15],j,4264355552),g=u(g,v,p,m,y[n+6],P,2734768916),m=u(m,g,v,p,y[n+13],I,1309151649),p=u(p,m,g,v,y[n+4],O,4149444226),v=u(v,p,m,g,y[n+11],j,3174756917),g=u(g,v,p,m,y[n+2],P,718787259),m=u(m,g,v,p,y[n+9],I,3951481745),p=t(p,i),m=t(m,r),g=t(g,h),v=t(v,o);var R=f(p)+f(m)+f(g)+f(v);return R.toLowerCase()};return p}()},resultHandler=function(e){e=e||{};try{var t=e.ret[0].split("::"),n=e.data,i=t[0],r=t[1]&&t[1].split("##").pop()||""}catch(o){return{code:"FAIL_RET_DATA_ERROR",status:"FAIL_RET_DATA_ERROR",isSuccess:!1,message:"请求异常",data:null}}return{api:e.api,v:e.v,code:i,status:i,isSuccess:"SUCCESS"===i,message:r,data:n}},mtop={Util:Util,name:"h5ApiUpdate.do",history:requestHistory,request:function n(e,t){t=t||_q2["default"];var i=t.defer(),r=e.api||e.url,o=e.v||e.version,a=e.data||{},s=Object.assign({type:"originaljsonp"},e.params||{});s.useNative=void 0===s.useNative?!0:s.useNative;var n=this.getApi(r,o,a,s,function(e){var t=resultHandler(e);t.isSuccess?i.resolve(t):i.reject(t)},function(e){var t=resultHandler(e);i.reject(t)});return i.promise.request=n,i.promise},abortAll:function(){for(var e in requestHistory)"complete"!==requestHistory[e].status&&requestHistory[e].abort()},getApi:function(e,t,n,i,r,o){i=i||{},n=insertPrism(n);var a={api:e,v:t,data:n};Object.assign(a,i),a.uid=randomUID(),a.type=i.type||"originaljsonp",a.useNative=void 0===i.useNative?!0:i.useNative,a.alipay=void 0===i.alipay?!1:i.alipay,a.taobao=void 0===i.taobao?!1:i.taobao,a.alitrip=void 0===i.alitrip?!0:i.alitrip,a.timeout=a.timeout||2e4;var s={timeline:{startTime:+new Date},uid:a.uid};return requestHistory[a.uid]=s,Util.request(a,r,o),s},isLogin:function(){return!!this.getNickFromCookie()},isLoginAsync:function(){var e=_q2["default"].defer(),t=[],n=!1;return function(i,r){var o=this;if(n||-1==location.href.indexOf(".alitrip.")||_jsbridge2["default"].isAlitrip)i&&i.call(r||o,o.isLogin()),e.resolve(o.isLogin());else{if(!t.length){window.__loginAsync=function(i){n=!0,t.forEach(function(t){t.callback&&t.callback.call(t.context||o,o.isLogin(),i),e.resolve(o.isLogin(),i)})};var a=document.createElement("script");a.src="https://login.taobao.com/jump?target=https%3a%2f%2fwww.alitrip.com%2fgo%2frgn%2ftrip%2falitrip_tbpass_jump.php",a.sync=!0,a.onerror=function(){window.__loginAsync.call(o,"error")},document.getElementsByTagName("head")[0].appendChild(a)}t.push({callback:i,context:r})}return e.promise}}(),getNickFromCookie:function(){var e="",t=Util.getCookie("_w_tb_nick"),n=Util.getCookie("_nk_")||Util.getCookie("snk");return t&&t.length>0&&"null"!=t?e=decodeURIComponent(t):n&&n.length>0&&"null"!=n&&(e=unescape(unescape(n).replace(/\\u/g,"%u"))),e},getNick:function(){var e=this,t=_q2["default"].defer();if(Util.container.isAlipay){var n=function(){var n=e.getNickFromCookie();n?t.resolve(n):AlipayJSBridge.call("getConfig",{configKeys:["uuid"]},function(e){try{t.resolve(e.data.uuid)}catch(n){t.reject("AlipayJSBridge get uuid failed.")}})};alipayCall(n)}else{var i="",r=Util.getCookie("_w_tb_nick"),o=Util.getCookie("_nk_")||Util.getCookie("snk");r&&r.length>0&&"null"!=r?i=decodeURIComponent(r):o&&o.length>0&&"null"!=o&&(i=unescape(unescape(o).replace(/\\u/g,"%u"))),i?t.resolve(i):t.reject(null)}return t.promise},loginedRequest:function(e,t,n,i){t&&"function"!=typeof t&&(i=t.beforeLogin,n=t.fail,t=t.succ);var r=function(){e.retryed?n.call(null,{errcode:"NOT_LOGINED",message:"该页面需要登录，请刷新重试!"}):(i&&i.call(),Util.goLogin())};if(e.useNative="undefined"==typeof e.useNative?!0:e.useNative,e.useNative&&Util.useNative(options))e.needLogin=!0;else if(!this.isLogin())return void r();e.timeout=e.timeout||2e4,Util.request(e,t,n)},executeCall:function(){if(requestQueue.length){var e=requestQueue.shift();Util.sendRequest.apply(Util,e)}},goLogin:Util.goLogin,version:"0.2.3"};mtop.isLoginAsync(),module.exports=mtop,window.KISSY&&KISSY.add&&KISSY.add("mtop/index",function(){return mtop})},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(e,t){(function(){!function(e,t){function n(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function i(){return k++}function r(e){return e.match(A)[0]}function o(e){for(e=e.replace(x,"/"),e=e.replace(L,"$1/");e.match(N);)e=e.replace(N,"/");return e}function a(e){var t=e.length-1,n=e.charAt(t);return"#"===n?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||"/"===n?e:e+".js"}function s(e){var t=w.alias;return t&&E(t[e])?t[e]:e}function c(e){var t,n=w.paths;return n&&(t=e.match(O))&&E(n[t[1]])&&(e=n[t[1]]+t[2]),e}function u(e){var t=w.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(j,function(e,n){return E(t[n])?t[n]:e})),e}function l(e){var t=w.map,n=e;if(t)for(var i=0,r=t.length;r>i;i++){var o=t[i];if(n=T(o)?o(e)||e:e.replace(o[0],o[1]),n!==e)break}return n}function f(e,t){var n,i=e.charAt(0);if(P.test(e))n=e;else if("."===i)n=o((t?r(t):w.cwd)+e);else if("/"===i){var a=w.cwd.match(I);n=a?a[0]+e.substring(1):e}else n=w.base+e;return 0===n.indexOf("//")&&(n=location.protocol+n),n}function d(e,t){if(!e)return"";e=s(e),e=c(e),e=u(e),e=a(e);var n=f(e,t);return n=l(n)}function p(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function h(e,t,n){var i=R.createElement("script");if(n){var r=T(n)?n(e):n;r&&(i.charset=r)}m(i,t,e),i.async=!0,i.src=e,U=i,H?V.insertBefore(i,H):V.appendChild(i),U=null}function m(e,t,n){function i(){e.onload=e.onerror=e.onreadystatechange=null,w.debug||V.removeChild(e),e=null,t()}var r="onload"in e;r?(e.onload=i,e.onerror=function(){i()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&i()}}function g(){if(U)return U;if(W&&"interactive"===W.readyState)return W;for(var e=V.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var n=e[t];if("interactive"===n.readyState)return W=n}}function v(e){var t=[];return e.replace(F,"").replace(K,function(e,n,i){i&&t.push(i)}),t}function y(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function _(e,t){for(var n=0;n<t.length;n++){var i=e[n],r=w.modConfig[i];r.config&&t[n].init&&t[n].init(r.config)}}if(!e.pointman){var b=e.pointman={version:"2.0.0"},w=b.data={},E=(n("Object"),n("String")),S=Array.isArray||n("Array"),T=n("Function"),k=0,C=w.events={};b.on=function(e,t){var n=C[e]||(C[e]=[]);return n.push(t),b},b.off=function(e,t){if(!e&&!t)return C=w.events={},b;var n=C[e];if(n)if(t)for(var i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1);else delete C[e];return b};var A=/[^?#]*\//,x=/\/\.\//g,N=/\/[^\/]+\/\.\.\//,L=/([^:\/])\/+\//g,O=/^([^\/:]+)(\/.+)$/,j=/{([^{]+)}/g,P=/^\/\/.|:\//,I=/^.*?\/\/.*?\//,R=document,D=location.href&&0!==location.href.indexOf("about:")?r(location.href):"",B=R.scripts,q=R.getElementById("pointmannode")||B[B.length-1],M=r(p(q)||D);b.resolve=d;var U,W,V=R.head||R.getElementsByTagName("head")[0]||R.documentElement,H=V.getElementsByTagName("base")[0];b.request=h;var J,K=/'(?:\\'|[^'])*'|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*([''])(.+?)\1\s*\)/g,F=/\\\\/g,Y=b.cache={},G={},$={},Q={},X=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var e=this,t=e.dependencies,n=[],i=0,r=t.length;r>i;i++)n[i]=y.resolve(t[i],e.uri);return n},y.prototype.load=function(){var e=this;if(!(e.status>=X.LOADING)){e.status=X.LOADING;for(var t,n=e.resolve(),i=e._remain=n.length,r=0;i>r;r++)t=y.get(n[r]),t.status<X.LOADED?t._waitings[e.uri]=(t._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return void e.onload();var o={};for(r=0;i>r;r++)t=Y[n[r]],t.status<X.FETCHING?t.fetch(o):t.status===X.SAVED&&t.load();for(var a in o)o.hasOwnProperty(a)&&o[a]()}},y.prototype.onload=function(){var e=this;e.status=X.LOADED,e.callback&&e.callback();var t,n,i=e._waitings;for(t in i)i.hasOwnProperty(t)&&(n=Y[t],n._remain-=i[t],0===n._remain&&n.onload());delete e._waitings,delete e._remain},y.prototype.fetch=function(e){function t(){b.request(o.requestUri,o.onRequest,o.charset)}function n(){delete G[a],$[a]=!0,J&&(y.save(r,J),J=null);var e,t=Q[a];for(delete Q[a];e=t.shift();)e.load()}var i=this,r=i.uri;i.status=X.FETCHING;var o={uri:r},a=o.requestUri||r;return!a||$[a]?void i.load():G[a]?void Q[a].push(i):(G[a]=!0,Q[a]=[i],o={uri:r,requestUri:a,onRequest:n,charset:w.charset},void(o.requested||(e?e[o.requestUri]=t:t())))},y.prototype.exec=function(){function e(t){return y.get(e.resolve(t)).exec()}var n=this;if(n.status>=X.EXECUTING)return n.exports;n.status=X.EXECUTING,n.config=w.modConfig&&w.modConfig[n.id];var r=n.uri;e.resolve=function(e){return y.resolve(e,r)},e.async=function(t,n){return y.use(t,n,r+"_async_"+i()),e};var o=n.factory,a=T(o)?o(e,n.exports={},n):o;return a===t&&(a=n.exports),delete n.factory,n.exports=a,n.status=X.EXECUTED,a},y.resolve=function(e,t){var n={id:e,refUri:t};return n.uri||b.resolve(n.id,t)},y.define=function(e,n,i){var r=arguments.length;1===r?(i=e,e=t):2===r&&(i=n,S(e)?(n=e,e=t):n=t),!S(n)&&T(i)&&(n=v(i.toString()));var o={id:e,uri:y.resolve(e),deps:n,factory:i};if(!o.uri&&R.attachEvent){var a=g();a&&(o.uri=a.src)}o.uri?y.save(o.uri,o):J=o},y.save=function(e,t){var n=y.get(e);n.status<X.SAVED&&(n.id=t.id||e,n.dependencies=t.deps||[],n.factory=t.factory,n.status=X.SAVED)},y.get=function(e,t){return Y[e]||(Y[e]=new y(e,t))},y.use=function(t,n,i){var r=y.get(i,S(t)?t:[t]);r.callback=function(){for(var t=[],i=r.resolve(),o=0,a=i.length;a>o;o++)t[o]=Y[i[o]].exec();n&&n.apply(e,t),delete r.callback},r.load()},b.use=function(e,t){return y.use(e,t,w.cwd+"_use_"+i()),b},y.define.cmd={},b.define=y.define,b.Module=y,w.fetchedList=$,w.cid=i,b.require=function(e){var t=y.get(y.resolve(e));return t.status<X.EXECUTING&&(t.onload(),t.exec()),t.exports},w.base=M,w.dir=M,w.cwd=D,w.charset="utf-8",w.modConfig={};var z=[];b.config=function(e){w.alias=e.alias,w.base=e.base;for(var t in e.modules){var n=e.modules[t].loadAt;w.modConfig[t]=e.modules[t].config||{},"free"==n&&z.push(t)}z.length>0&&(window.addEventListener?window.addEventListener("load",function(e){b.use(z,function(){_(z,arguments)})},!1):window.attachEvent("load",function(e){b.use(z,function(){_(z,arguments)})}))}}}(this),function(){pointman.config({modules:{sufei:{config:{app:"tb-m",version:"2.0.0",style:"//g.alicdn.com/sd/pointman/app/mtop/sufei-tb-m.css"}}},base:"//g.alicdn.com/sd/pointman/js/"})}(),pointman.define("mod/emit",function(e,t,n){var i={},r={};i.on=function(e,t){var n=r[e]||(r[e]=[]);return n.push(t),i},i.off=function(e,t){if(!e&&!t)return r={},i;var n=r[e];if(n)if(t)for(var o=n.length-1;o>=0;o--)n[o]===t&&n.splice(o,1);else delete r[e];return i},i.fire=function(e,t){var n=r[e];if(n){n=n.slice();for(var o=0,a=n.length;a>o;o++)n[o](t)}return i},n.exports=i}),pointman.define("mod/messenger",function(e,t,n){function i(e){try{for(var t=e.data.split(r),n=t[0],i=t[1],o=0,a=c.length;a>o;o++)c[o].event===n&&c[o].callback(i)}catch(s){}}var r="@=_=@",o=null,a=null,s=null,c=[],u={uid:0,hid:-1,q:[],tm:0,postMessage:function(e,t){var n=++u.uid,i=u.q,r={name:+new Date+""+n+"^"+document.domain+"&"+t,uid:n,target:e};i.push(r),u.tm||(u.tm=setInterval(function(){var e=u.q;if(!(0===e.length||e[0].uid<=u.hid)){var t=e[0];u.hid=t.uid,t.target.name=t.name}},10))},ListenerMessage:function(e,t){function n(){if(!e)return!1;var n=e.name;if(n!==i){u.q.shift(),i=n;var o=r.exec(n);if(!o)return;t&&t({origin:o[2],data:o[3]})}}var i="",r=/^(\d+?)\^(.+?)&(.*?)$/;setInterval(n,10)}};n.exports={initListener:function(e){o=e.currentWin,a=e.originWin,s=e.msgTransfer,o&&a&&s&&(o.postMessage?o.addEventListener?o.addEventListener("message",i,!1):o.attachEvent&&o.attachEvent("onmessage",i):"fromFrame"==s?u.ListenerMessage(a,i):u.ListenerMessage(o,i))},register:function(e,t){c.push({event:e,callback:t})},send:function(e){var t=e.type+r+e.content;o&&a&&s&&(a.postMessage?a.postMessage(t,"*"):"fromFrame"==s?u.postMessage(a,t):u.postMessage(o,t,"*"))}}}),pointman.define("mod/sufei-kissymini-mtop",function(e,t,n){function i(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}var r=e("mod/emit"),o=i("Object"),a=(i("String"),function(){this.cache={status:0,currentRequest:null,queue:[]}});a.prototype={init:function(){r.on("event:resendRequest@sufei",function(e){dispatchEvent(document,"sufei:validateDone",[e])}),document.addEventListener("sufei:validateData",function(e){var t=e[0];t&&o(t)&&"undefined"!=typeof t.ret&&"RGV587_ERROR::SM"==t.ret.join("")?r.fire("event:showDialog@sufei",t.data.url):dispatchEvent(document,"sufei:noNeedToValidate",e)})}},n.exports=a}),pointman.define("sufei",function(e,t,n){var i=e("mod/sufei-kissymini-mtop"),r=e("mod/messenger"),o=!1,a=e("mod/emit"),s=document,c=s.head||s.getElementsByTagName("head")[0]||s.documentElement,u=function(){this.config={app:"",version:"",sufeiStyle:""},this.cache={queue:[],dialog:null}};u.prototype={init:function(){var e=this,t=n.config;e.config.app=t.app||"",e.config.version=t.version||"",e.config.sufeiStyle=t.style||"",a.on("event:showDialog@sufei",function(t){e.cache.dialog?e.changeDialogStates({state:"visible"}):(t+=/\?/.test(t)?"&":"?",/tpl_redirect_url=http(s)?\:\/\/sec\.(([\w\d])*?\.)?taobao\.com\/query\.htm/.test(decodeURIComponent(t))?t=t.replace("query.htm%3F","query.htm%3Fsufeiversion%3D"+e.config.version+"%26app%3D"+e.config.app+"%26"):t+="sufeiversion="+e.config.version+"&app="+e.config.app,e.loadCss(e.config.sufeiStyle,function(){e.createDialog(t)}))}),(new i).init()},loadCss:function(e,t){var n=s.createElement("link");n.chaarset="utf-8",n.rel="stylesheet",n.href=e,"onload"in n?n.onload=function(){t&&t()}:n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&t&&t()},c.appendChild(n)},isOldBrower:function(){var e=s.createElement("b");return e.innerHTML="<!--[if lte IE 7]><i></i><![endif]-->",1===e.getElementsByTagName("i").length},createDialog:function(e){var t=this,n=document.createElement("div"),i=null,c=null,u=null,l=null,f=null;i=s.createElement("div"),c=s.createElement("div"),l=document.createElement("div"),u=null,""!==t.config.app?n.className="sufei-dialog sufei-dialog-"+t.config.app:n.className="sufei-dialog",i.className="sufei-dialog-mask",t.isOldBrower()&&(i.innerHTML='<iframe frameborder="none" src="javascript:\'\'"></iframe>'),l.className="sufei-dialog-close",l.innerHTML="close",c.className="sufei-dialog-content",c.innerHTML='<iframe id="sufei-dialog-content" frameborder="none" src="'+e+'""></iframe>',c.appendChild(l),n.appendChild(i),n.appendChild(c),s.body.appendChild(n),f=s.getElementById("sufei-dialog-content").contentWindow,r.initListener({currentWin:window,originWin:f,msgTransfer:"fromFrame"}),o=!0,r.register("msg:validateSuccess@sufei",function(e){a.fire("event:resendRequest@sufei",e),t.changeDialogStates({state:"hidden"}),r.send({type:"msg:resetCheckCode@sufei",content:""})}),l.addEventListener?l.addEventListener("click",function(){t.changeDialogStates({state:"hidden"})},!1):l.attachEvent("onclick",function(){return t.changeDialogStates({state:"hidden"}),!1}),t.cache.dialog=n},changeDialogStates:function(e){"hidden"===e.state?(a.fire("event:cleanHijackQueue@sufei",{}),this.cache.dialog.style.display="none"):(this.cache.dialog.style.display="block",o&&r.send({type:"msg:refreshCheckCode@sufei",content:""}))}};var l=new u;n.exports={init:function(e){l.init(e)}}}),pointman.use("sufei",function(e){e.init()})}).call(window)}])})}).call(exports,__webpack_require__(4)(module))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){var i,r,o;(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(a,s){"object"===n(t)&&"object"===n(e)?e.exports=s():(r=[],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o)))}(void 0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function i(e){function t(e){return e}function n(e){return c(e)}function i(e){var t=r(),n=0,i=a(e)?[]:{};return e.forEach(function(e,r){n++,s(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var r=function f(){var i,r,a=[];return r={resolve:function(e){if(a){var t=a;if(a=void 0,i=s(e),t.length)for(var n,r=0,o=t.length;o>r;r++)n=t[r],i.then(n[0],n[1],n[2])}},reject:function(e){r.resolve(u(e))},notify:function(e){if(a){var t=a;if(a.length)for(var n,i=0,r=t.length;r>i;i++)n=t[i],n[2](e)}},promise:{then:function(r,s,c){var u=f(),l=function(n){
try{u.resolve((o(r)?r:t)(n))}catch(i){u.reject(i),e(i)}},d=function(t){try{u.resolve((o(s)?s:n)(t))}catch(i){u.reject(i),e(i)}},p=function(n){try{u.notify((o(c)?c:t)(n))}catch(i){e(i)}};return a?a.push([l,d,p]):i.then(l,d,p),u.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function n(e,t){var n=f();return t?n.resolve(e):n.reject(e),n.promise}function i(i,r){var a=null;try{a=(e||t)()}catch(s){return n(s,!1)}return a&&o(a.then)?a.then(function(){return n(i,r)},function(e){return n(e,!1)}):n(i,r)}return this.then(function(e){return i(e,!0)},function(e){return i(e,!1)})}}}},s=function(e){return e&&o(e.then)?e:{then:function(t){var n=r();return n.resolve(t(e)),n.promise}}},c=function(e){var t=r();return t.reject(e),t.promise},u=function(t){return{then:function(i,a){var s=r();try{s.resolve((o(a)?a:n)(t))}catch(c){s.reject(c),e(c)}return s.promise}}},l=function(i,a,u,l){var f,d=r(),p=function(n){try{return(o(a)?a:t)(n)}catch(i){return e(i),c(i)}},h=function(t){try{return(o(u)?u:n)(t)}catch(i){return e(i),c(i)}},m=function(n){try{return(o(l)?l:t)(n)}catch(i){e(i)}};return s(i).then(function(e){f||(f=!0,d.resolve(s(e).then(p,h,m)))},function(e){f||(f=!0,d.resolve(h(e)))},function(e){f||d.notify(m(e))}),d.promise};return{version:"0.1.0",defer:r,reject:c,when:l,all:i}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){return"function"==typeof e},a=Array.isArray;r=i(console.log),window.KISSY&&KISSY.add&&KISSY.add("q/index",function(){return r}),t["default"]=r}])})}).call(t,n(4)(e))},function(e,t,n){var i,r,o;(function(e){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(s,c){"object"===a(t)&&"object"===a(e)?e.exports=c(n(5),n(7)):(r=[n(5),n(7)],i=c,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o)))}(void 0,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),f=n(2),d=i(f),p=navigator.userAgent,h=!(!/WindVane/i.test(p)||/T-UA/i.test(p)),m=!!/Alipay/gi.test(p),g=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"getEnv",value:function(){var e=l["default"].defer();if("ios"===this.platform&&this.client.version<5){var t={daily:"waptest",prepare:"wapa",online:"m"},n=function(n){e.resolve(t[JSON.parse(n).environment])};this.pushBack("bridge:","getEnvironment",{successCallback:n})}else{var i=location.hostname,r=/waptest/.test(i)?"waptest":/wapa/.test(i)?"wapa":"m";e.resolve(r)}return e.promise}},{key:"getTTid",value:function(){var e=l["default"].defer();if(/AlipayClient/i.test(navigator.userAgent))if(location.search.match(/ttid=([^=&]+)/)){var t=location.search.match(/ttid=([^=&]+)/);i=t?t[1]:"201300@travel_h5_3.1.0",e.resolve(i)}else{var n=function(){try{var t=AlipayJSBridge.startupParams.ttid;e.resolve(t)}catch(n){e.reject("AlipayJSBridge get ttid failed.")}};window.AlipayJSBridge&&AlipayJSBridge.call?n():document.addEventListener("AlipayJSBridgeReady",n,!1)}else{var t=location.search.match(/ttid=([^=&]+)/)||location.hash.match(/ttid=([^=&]+)/),i=t?t[1]||"201300@travel_h5_3.1.0":"201300@travel_h5_3.1.0";e.resolve(i)}return e.promise}},{key:"setTitle",value:function(e){if(h)window.WindVane.call("WebAppInterface","setCustomPageTitle",{title:e},function(e){},function(e){});else if(m){var t=function(){AlipayJSBridge.call("setTitle",{title:e})};window.AlipayJSBridge&&AlipayJSBridge.call?t():document.addEventListener("AlipayJSBridgeReady",t,!1)}else d["default"].Global.setTitle(e)}},{key:"routApp",value:function(e){var t=this.device.type;if("android"===t&&/Chrome/i.test(navigator.userAgent)&&!e.isWebView){var n="intent://"+(e.path||"")+(e.query?"?"+e.query:"")+"#Intent;scheme="+e.scheme+";package="+e.packagename+";end";window.location.replace(n)}else{var i=e.scheme+(e.path||"")+(e.query?"?"+e.query:"");this.sendUriScheme(i,!0,null,!0)}}},{key:"alipayCall",value:function(e){if(e=e||function(){},window.AlipayJSBridge&&AlipayJSBridge.call)e();else{var t=function n(){e(),document.removeEventListener("AlipayJSBridgeReady",n,!1)};document.addEventListener("AlipayJSBridgeReady",t,!1)}}}]),t}(d["default"]),v=new g;for(var y in v)void 0!==v[y]&&(g[y]=v[y]);Object.getOwnPropertyNames(g.prototype).forEach(function(e){g[e]=v[e]}),g.version="0.1.2",window.KISSY&&KISSY.add&&KISSY.add("jsbridge/index",function(){return g}),t["default"]=g},function(t,n){t.exports=e},function(e,n){e.exports=t}])})}).call(t,n(4)(e))},function(e,t,n){var i,r,o;(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(a,s){"object"===n(t)&&"object"===n(e)?e.exports=s():(r=[],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o)))}(void 0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,i){function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":n(e)}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n]);return e}function a(e,t){var n=s(),i="Bridge_Callbacks_"+(t?"always_":"")+n;return window[i]=function(e,n){return function(){e.apply(this,arguments),!t&&delete window[n]}}(e,i),i}function s(){var e=(new Date).getTime()+"_"+parseInt(1e6*Math.random());return e}function c(e,t){var n=s(),i=document.createElement("iframe");if(i.id="J_MClientProxy_"+n,i.src=e,i.className="hidden mclient-proxy",i.style.cssText="width:0;height:0;opacity:0;display:none;",t)for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return document.body.appendChild(i),i}function u(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function l(e){if(e=e||function(){},window.AlipayJSBridge&&AlipayJSBridge.call)e();else{var t=function n(){e(),document.removeEventListener("AlipayJSBridgeReady",n,!1)};document.addEventListener("AlipayJSBridgeReady",t,!1)}}function f(e){var t=!1;try{t="ios"===e.type&&e.version.split(".")[0]>=9&&/safari/i.test(window.navigator.userAgent)}catch(n){}return t}var d=function(){this.init.apply(this,arguments)},p=navigator.userAgent;d.prototype={version:"0.3.0",device:{},client:{},connection:{},init:function(e){var t=this;t.platform="h5",t.bridgeName=e||"ali_trip_webview_bridge",t.bridge=window[t.bridgeName],t.getDeviceInfo(),t.getPlatform(),t.messageQueueInit(),t.getClientInfo(),t.handShake.apply(this,arguments),t.notification.superthat=t,t.customShare.superthat=t},isWindVane:/WindVane[\/\s]([\d\.\_]+)/i.test(p)&&window.WindVane&&window.WindVane.isAvailable,isInTBClient:function(){var e=p.match(/TB[\s\/][\d\.]+/gim),t=e?parseInt(e[0].match(/[\d\.]+/gim)[0].split(".").join(""),10):0;return window.WindVane?/Android/.test(p)?t>=513:t>=501:!1}(),isAlitrip:/AliTrip/i.test(p),isAlipay:/AlipayClient/i.test(p),isTaobao:/Aliapp\(TB/i.test(p),isTmall:/AliApp\(TM/i.test(p),isWX:/AliApp\(WX/i.test(p),isAlilaiwang:/AliApp\(LW/i.test(p),isUC:/UCBrowser/i.test(p),isAliweibo:/Weibo/i.test(p),messageQueueInit:function(){var e=this;"ios"===e.platform&&(window.messageQueue=window.messageQueue||[],window.messageQueueFetch=window.messageQueueFetch||function(){var e;return e=window.messageQueue.length?JSON.stringify(window.messageQueue):"",window.messageQueue=[],e?e:void 0})},handShake:function(e){var t=this,n=function(){e&&e()};t.pushBack("bridge:","ready",{data:{},successCallback:n,callbackCommand:n})},getDeviceInfo:function(){if(/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(p)){this.device.type="ios";var e=/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/.exec(p);e&&e[0]&&(this.device.version=e[0].replace(/_/g,"."))}else if(/Android/i.test(p)){this.device.type="android";var t=p.match(/Android\s+([\d\.]+)/i);this.device.version=t&&t[1]}else this.device.type=void 0;return this.device},getPlatform:function(){var e=p.match(/AliTrip[\s\/][\d\.]+/gim);return e&&(this.device.type&&(this.platform=this.device.type),this.client.version=parseInt(e[0].match(/[\d\.]+/gim)[0].split(".").join(""),10),this.client.versionStr=e[0].match(/[\d\.]+/gim)[0]),this.platform},getClientInfo:function(e){var t=this;if("h5"===t.platform)return void(e&&e({platform:"h5"}));var n=function(n){n="string"==typeof n?JSON.parse(n||"{}"):n||{},o(t.client,n),e&&e(t.client)};t.pushBack("bridge:","client_info",{successCallback:n})},getUserInfo:function(e){this.pushBack("bridge:","user_info",{successCallback:function(t){e(t)}},!0)},getGPSInfo:function(e,t){this.pushBack("lbs/locate",{successCallback:function(t){e&&e(t)},failCallback:function(){t&&t()}})},getWifiInfo:function(e){var t=this;return"h5"===t.platform?void e(navigator.connection||{}):void t.pushBack("bridge:","networktype",{successCallback:e})},getNetworkInfo:function(e){var t=this;return"h5"===t.platform?void e(navigator.connection||{}):void t.pushBack("bridge:","networktype",{successCallback:e})},compareVersion:function(e,t){var n=this.client.versionStr;if(!n)return-1;for(var i=n.split("."),r=e.split("."),o=t||i.length,a=-1;++a<o;){var s=Number(i[a])||0,c=Number(r[a])||0;if(s>c)return 1;if(c>s)return-1}return 0},pushBack:function(e,t,n,i,o,s,c){var u,l=this,f=(e||"native:")+"//"+t+"?params=",d=[].slice.call(arguments);if("string"==typeof e&&"string"==typeof t||(e="native:",t=d[0],n=d[1],i=d[2],f=(e||"native:")+"//"+t+"?params="),"h5"!==l.platform||o){n=n||{},n.successCallback&&(n.callbackCommand=n.successCallback);for(var p in n)if(n.hasOwnProperty(p)){if("function"==typeof n[p]&&(u=a(n[p],c),n[p]=u),"object"===r(n[p])&&n[p].hasOwnProperty("length"))for(var h=0;h<n[p].length;h++)"function"==typeof n[p][h]&&(u=a(n[p][h]),n[p][h]=u);var m=p.replace(/([A-Z])/g,"_$1").toLowerCase();p!==m&&(n[m]=n[p],delete n[p])}f+=encodeURIComponent(JSON.stringify(n)),this.sendUriScheme(f,i,s)}},sendUriScheme:function(e,t,n,i){if("android"===this.platform&&!i)return prompt("alitrip-android://"+e),this;if("ios"===this.platform&&!i)return messageQueue.push(e),this;if((/^taobaotravel:\/\/smartbanner/i.test(e)||i)&&f(this.device))return void(window.location.href=e);var r=this.mClientProxy;return t?(c(e,n),this):(r||(r=document.querySelector("#J_MClientProxy"))?r.setAttribute("src",e):r=c(e),this.mClientProxy=r,this)},showTitle:function(e,t){this.setUI({titlebar_display:"show",success_callback:e||function(){},fail_callback:t||function(){}})},hideTitle:function(e,t){this.setUI({titlebar_display:"hide",success_callback:e||function(){},fail_callback:t||function(){}})},getRequestParam:function(e,t,n){var i,r=this;return(!t||t&&"boolean"==typeof t)&&(n=t,t=e,e=window.location.href),e=e||window.location.href,i=e.match(new RegExp("[?&]"+t+"=([^&]*)(&?)","i")),i=i?decodeURIComponent(i[1]):i,n?r.escapeHtml(i):i},getRequestParams:function(e,t){var n=this,i=location.search.substring(1);return e=e||window.location.href,"boolean"==typeof e?t=e:i=e&&e.indexOf("?")>-1?e.split("?")[1]:i,i?JSON.parse('{"'+i.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,i){var r;return""!=e?(r=decodeURIComponent(i),r=t?n.escapeHtml(r):r):r=i,r}):{}},escapeHtml:function(e){if(!e)return"";var t={"&":"&amp;",">":"&gt;","<":"&lt;","`":"&#x60;","/":"&#x2F;",'"':"&quot;","'":"&#x27;"};return(e+"").replace(/(&|>|<|`|\/|\"|\')/g,function(e){return t[e]})},getParams:function(e){var t=this,n=t.getRequestParams(e),i=t.client;for(var r in i)i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(n[r]=i[r]);return n},notification:{alert:function(e){function t(t,n,i,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,i){var r=this,o=function(e){var n=e.buttonIndex;return Array.isArray(t)?void(t[n]&&t[n].apply(this,arguments)):void(t&&t())};return"h5"===r.superthat.platform?void alert.apply(null,arguments):("string"==typeof i&&(i=[i]),void r.superthat.pushBack("bridge:","alert",{message:e,successCallback:o,title:n,buttonNames:i}))}),confirm:function(e){function t(t,n,i,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,i){var r=this;return"h5"===r.superthat.platform?void(confirm.apply(null,arguments)?Array.isArray(t)?t[0](!0):t&&t(!0):Array.isArray(t)?t[1](!1):t&&t(!1)):("string"==typeof i&&(i=[i]),void r.superthat.pushBack("bridge:","confirm",{message:e,title:n,successCallback:t,buttonNames:i}))}),prompt:function(e){function t(t,n,i,r,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,i,r){var o=this;return"h5"===o.superthat.platform?void prompt.apply(null,arguments):("string"==typeof r&&(r=[r]),void o.superthat.pushBack("bridge:","prompt",{message:e,value:t,successCallback:n,title:i,buttonNames:r}))}),toast:function(e,t,n){var i=this;"h5"!==i.superthat.platform&&i.superthat.pushBack("bridge:","toast",{message:e,milliseconds:t,successCallback:n})},beep:function(e){var t=this;t.superthat.pushBack("bridge:","beep",{times:e})},vibrate:function(e){var t=this;t.superthat.pushBack("bridge:","vibrate",{milliseconds:e})}},openBrowser:function(e){var t=this;return"h5"===t.platform?void window.open(e):void t.pushBack("bridge:","open_system_browser",{url:e})},openAppStore:function(e){var t=this;return"h5"===t.platform?void window.open(e):void t.pushBack("bridge:","open_app_store",{url:e})},openAppPage:function(e,t){e=e||"home",this.router({type:"page",action:e,data:t})},smartbanner:function(e){var t,n=this,i=e.type||"page",r=decodeURIComponent(e.action)||"home",a=/^http(s)?/i.test(r);if(/AliTrip/i.test(p))return e.page_name=a?"act_webview":r,e.data=a?{url:r}:e.data,this._goto(e),!0;e.data&&(t=o({},e.data||{}));var s={url:a?r:i+"://"+r+(t?"?params="+encodeURIComponent(JSON.stringify(t)):""),sb:"1234"};o(s,e),function(){var e=location.search?location.search.replace("?",""):"";e+="&deviceType="+n.device.type+"_"+n.device.version;try{window.goldlog&&goldlog.record("/tbtrip.2000.6","",e,"H46836991")}catch(t){}}(),"android"!==this.device.type||!/Chrome/i.test(p)||this.isWindVane||this.isAlipay||this.isAliweibo||this.isAlilaiwang?this.pushBack("taobaotravel:","smartbanner",s,!0,!0,e.events):window.location.replace("intent://smartbanner?params="+encodeURIComponent(JSON.stringify(s))+"#Intent;scheme=taobaotravel;package=com.taobao.trip;end")},router:function(e){var t=this,n={type:"page",action:"home",alipayDownload:!0};o(n,e);var i={scheme:"taobaotravel://",packagename:"com.taobao.trip"},r=location.search?location.search.replace("?",""):"";if(r+="&deviceType="+t.device.type+"_"+t.device.version,this.isAlipay)return void l(function(){AlipayJSBridge.call("isInstalledApp",i,function(e){e.installed?(t.smartbanner(n),function(){try{window.goldlog&&goldlog.record("/tbtrip.2000.2","",r,"H46836987")}catch(e){}}()):(n.alipayDownload&&t.download(n.downloadUrl,n.androidUrl),function(){try{window.goldlog&&goldlog.record("/tbtrip.2000.1","",r,"H46836965")}catch(e){}}())})});if(this.isWindVane&&window.WindVane)return void window.WindVane.call("Base","isInstall",{ios:i.scheme,android:i.packagename},function(e){t.smartbanner(n),function(){try{window.goldlog&&goldlog.record("/tbtrip.2000.4","",r,"H46836989")}catch(e){}}()},function(e){t.download(n.downloadUrl,n.androidUrl),function(){try{window.goldlog&&goldlog.record("/tbtrip.2000.3","",r,"H46836988")}catch(e){}}()});var a=t.device.type,s="ios"===a?800:2e3,c=Date.now(),u=!0;if(n.events={onload:function(){u=!1}},"ios"!==a||n.onlydown||!this.smartbanner(n)){var f=function(e){return setTimeout(function(){var i=Date.now();if("ios"===a&&s+200>i-e&&t.download(n.downloadUrl),"android"===a){return}},s)}(c);!function(e){window.addEventListener("pagehide",function(t){clearTimeout(e),e=null},!1),document.addEventListener("webkitvisibilitychange",function t(n){clearTimeout(e),e=null,window.removeEventListener("webkitvisibilitychange",t)},!1),document.addEventListener("visibilitychange",function n(t){clearTimeout(e),e=null,window.removeEventListener("visibilitychange",n)},!1),document.addEventListener("WV.Event.APP.Background",function i(t){clearTimeout(e),e=null,window.removeEventListener("WV.Event.APP.Background",i)},!1),document.addEventListener("WV.Event.APP.Active",function r(t){clearTimeout(e),e=null,window.removeEventListener("WV.Event.APP.Active",r)},!1),window.addEventListener("blur",function o(t){clearTimeout(e),e=null,window.removeEventListener("blur",o)},!1)}(f),"android"===a&&this.smartbanner(n)}},download:function(e,t){var n=this;!function(){var e=location.search?location.search.replace("?",""):"";e+="&deviceType="+n.device.type+"_"+n.device.version;try{window.goldlog&&goldlog.record("/tbtrip.2000.5","",e,"H46836990")}catch(t){}}();var i;if(e)i=e;else{var r={ios:"https://itunes.apple.com/cn/app/tao-bao-lu-xing-ji-piao-jiu/id453691481?mt=8",android:"https://trip.taobao.com/go/act/other/tripdownloadh5.php"};i="ios"===this.device.type?r.ios:t||r.android}window.location.href=decodeURIComponent(i)},setTitle:function(e,t){var n=this;return"h5"===n.platform?void(document.title=e):void n.pushBack("bridge:","set_webview_title",{title:e,subtitle:t})},setTitleButton:function(e,t,n,i){if("h5"!==this.platform){var r=n?"set_webview_left_button":"set_webview_right_button",o={title:e,click_callback:t};!n&&i&&(o.img=i),this.pushBack("bridge:",r,o,null,!0,null,!0)}},sendMTop:function(e){var t=e.needLogin?"biz/mtop_ecode_sign":"biz/mtop_normal_sign";this.pushBack("native:",t,e)},setUI:function(e){this.pushBack("bridge:","set_ui",e)},open:function(e,t,n,i,r,o){var a={page_name:e,data:t||{},successCallback:n||function(){},naviType:i||0,animeType:"undefined"!=typeof r?r:4,trigger:o||""};this.pushBack("page:","goto",a)},pushWindow:function(e,t){this.open("act_webview",{url:e.href,title:e.title,right_btn_type:e.rightBtnType},t,0,e.animeType||2,e.trigger)},popWindow:function(e){this.pushBack("bridge:","back",{callbackCommand:function(){e()}})},_goto:function(e){var t={page_name:"home",data:{},naviType:0,animeType:4,trigger:""};o(t,e),this.pushBack("page:","goto",t)},goTo:function(e,t,n){"string"==typeof e&&(e={href:e});var i=e.href||"",r=e.callback||function(){},o=(e.title||"",e.rightBtnType||2,e.triggerNode);if(window.MT&&window.MT.Tracker&&o){var a=window.MT.Tracker.getEelementABCDForStr(o),s=i.split("#"),c=s[0].split("?");if(c.length>1){var l=c[1];c[1]=l.replace(/&{0,1}spm\=[0-9A-Za-z\.]+&?/gi,"")}s[0]=c.length>1&&c[1]?c.join("?"):c[0];var f=-1==s[0].indexOf("?")?"?":"&",d="spm="+a;if(s[0]=s[0]+f+d,-1==s[0].indexOf("ttid")){var p=this.getRequestParam(window.location.search,"ttid")||"",h="ttid="+p;(this.isTmall||this.isTaobao)&&-1!=s[0].indexOf("/item.htm")&&(h+="&track_params="+encodeURIComponent('{"ttid":"'+p+'"}')),f=-1==s[0].indexOf("?")?"?":"&",s[0]=s[0]+f+h}i=s.join("#")}if(this.isAlitrip&&!n)e.href=u(i),this.pushWindow(e,r);else if(this.isAlipay&&window.AlipayJSBridge)i=u(i),AlipayJSBridge.call("pushWindow",{url:i,param:{readTitle:!0,showTitleBar:!0,showToolBar:!1,showLoading:!1,backBehavior:"back"}});else if(this.isInTBClient&&!t){i=u(i);var m={url:i};window.WindVane.call("Base","openWindow",m,function(e){},function(e){window.location.href=i})}else window.location.href=i},back:function(e,t,n){this.isAlitrip?this.pushBack("bridge:","back",t):this.isAlipay&&window.AlipayJSBridge?AlipayJSBridge.call("popWindow",t):this.isInTBClient&&!n?window.WindVane.call("WebAppInterface","pop",t||{},function(e){},function(e){history.back()}):history.back()},close:function(e){var t=this;return"h5"===t.platform?void window.close():void t.pushBack("page:","close",e)},minipay:function(e,t,n,i,r){var o,a=this,s=function(e){try{o="string"==typeof e?JSON.parse(e):e||{}}catch(t){e.match(/"ResultStatus":"9000"/gim)&&(o={ResultStatus:"9000"})}return"ios"===a.platform&&(o.resultStatus=o.ResultStatus),"9000"===o.resultStatus?void(i&&i(o)):void(r&&r(o))},c={data:n||{},failCallback:r,successCallback:s};return n&&n.orderInfo?c.order_info=n.orderInfo:c.alipay_id=e,"h5"===a.platform&&t?void(window.location.href=t):void a.pushBack("bridge:","minipay",c)},wangxin:function(e,t,n,i){var r=this;return"h5"===r.platform?void(i&&i()):void r.pushBack("bridge:","open_wangwang",{sellerName:e,itemId:t,orderId:n,failCallback:i&&i})},openWangxin:function(e,t){var n=this;return"h5"===n.platform||n.client.version<540?void(t&&t()):void n.pushBack("bridge:","open_wangwang",e)},openLoadingView:function(e){e=e||{},this.pushBack("bridge:","open_loading_view",e)},closeLoadingView:function(e){this.pushBack("bridge:","close_loading_view",{commonCallback:e})},share:function(e){this.pushBack("page:","goto",{page_name:"share",data:e||{}},!0)},customShare:{prepare:function(e,t){this.superthat.pushBack("native:","share/preload_share",{data:{share_data:e},successCallback:function(e){t(e.channels||[])}},!0)},exec:function(e,t){this.superthat.pushBack("native:","share/execute_share",{data:{channel:e||"sms"},successCallback:t},!0)}},saveImageToAlbum:function(e,t){if("h5"!=this.platform){e=u(e);var n=function(e){return function(){t(e)}};this.pushBack("bridge:","save_image_to_album",{url:e,successCallback:n(!0),failCallback:n(!1)})}},screenCaptureShare:function(e){var t=document.documentElement;this.pushBack("bridge:","screenCapture_share",o({origin_x:0,origin_y:0,width:t.offsetWidth,height:t.offsetHeight},e))}};var h=new d;d.Global=h,document.addEventListener("DOMContentLoaded",function(){h.closeLoadingView()},!1),window.addEventListener("load",function(){h.closeLoadingView()},!1),"complete"===document.readyState&&h.closeLoadingView(),h.isWindVane||Object.defineProperty(window,"WindVane",{enumerable:!0,configurable:!1,writable:!1,value:null}),window.Bridge=d,window.KISSY&&KISSY.add&&KISSY.add("bridge/index",function(){return d}),e.exports=d}])})}).call(t,n(4)(e))},function(e,t,n){var i,r,o;(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(a,s){"object"===n(t)&&"object"===n(e)?e.exports=s():(r=[],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o)))}(void 0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,i){var r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":n(e)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e){this._init()}var n=window,i=navigator.userAgent,o={};n.trackerPerformanceTime=n.trackerPerformanceTime||{trip_startTime:(new Date).getTime()};var a="https:"==location.protocol?"https:":"http:",s=a+"//wgo.mmstat.com/",c=4e3,u=window.trackerPerformanceTime.trip_startTime||(new Date).getTime(),l=0,f={},d=null,p=[],h={timeline:{key:"tbtrip.1000.8",checkCode:"H46836993"},userAction:{key:"tbtrip.2001.1.1",checkCode:"H46896547"}},m=function(e,t,n,i,r){if(r="undefined"!=typeof r?r:!0,i=i||"",e&&t)for(var o in t)r=r?t.hasOwnProperty(o):!0,r&&(n||"undefined"==typeof e[o])&&(e[i+o]=t[o]);return e},g=function(e,t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},v=function(e){var t="undefined"==typeof e?"undefined":r(e);return"function"===t||"object"===t&&!!e},y=function(t){var n=e.cookie.match(new RegExp("\\b"+t+"=([^;]+)"));return n?n[1]:""};return t.prototype={version:"0.5.1",_init:function(){var e=this;e.markObj={},e._timelineMap={},e._timelines=[],e._isInteractCompleted=!1,e._isRenderCompleted=!1,o.pushVersion=e._getPushVersion(),e._saveNetstat(),e._bind()},_debugTouchEvent:function(){var t=screen.width,i=screen.height,r=!1;/Android/i.test(navigator.userAgent)&&n.innerWidth&&(t=n.innerWidth,i=n.innerHeight),n.MT&&n.MT.trackerDev&&(r=!0);var o="/",a=/@/g,s="@@g.alicdn.com@mpi@tracker-tool@index-min.js?t=".replace(a,o)+Date.now(),c="@@g.alicdn.com@mpi@tracker-tool@index-min.css?t=".replace(a,o)+Date.now(),u=function(){var t=e.querySelector("head"),n=e.createElement("script");n.src=s,n.defer=!0,t.appendChild(n);var i=e.createElement("link");i.rel="stylesheet",i.href=c,t.appendChild(i),e.removeEventListener("touchmove",l)},l=function(e){e.touches&&e.touches.length>2&&e.touches[0].screenX<t/4&&e.touches[0].screenY<i/4&&e.touches[1].screenX<t/4&&e.touches[1].screenY>.75*i&&e.touches[2].screenX>.75*t&&e.touches[2].screenY>.75*i&&u()};location.search.indexOf("enableTrackerTool")>-1?u():e.addEventListener("touchmove",l)},_bind:function(){n.addEventListener("beforeunload",this._beforeunloadHanlder.bind(this)),n.addEventListener("error",this._errorHandler.bind(this)),n.addEventListener("DOMContentLoaded",this._domContentLoadedHandler.bind(this)),e.addEventListener("visibilitychange",this._visibilitychangeHandler.bind(this)),this._watch(n,"Bridge,AlipayJSBridge,WindVane",this._watchGlobalHandler.bind(this)),"complete"===e.readyState?this._loadHandler():n.addEventListener("load",this._loadHandler.bind(this));try{this._debugTouchEvent()}catch(t){}},_domContentLoadedHandler:function(){n.trackerPerformanceTime.readyTime=(new Date).getTime()},_watchGlobalHandler:function(e,t){this._saveNetstat()},_watch:function(e,t,n){t.split(",").forEach(function(t){"undefined"==typeof e[t]&&Object.defineProperty(e,t,{enumerable:!0,configurable:!0,set:function(i){delete e[t],e[t]=i,n.call(this,i,t)}.bind(this)})})},_loadHandler:function(){var e=this;n.trackerPerformanceTime.loadTime=n.trackerPerformanceTime.loadTime||(new Date).getTime(),setTimeout(function(){e._isInteractCompleted||(e.sendLogs(!0),e._autoSendLog())},50)},_visibilitychangeHandler:function(t){"visible"==e.visibilityState?d&&p.push((new Date).getTime()-d):(d=(new Date).getTime(),this.sendLogs(!0))},_beforeunloadHanlder:function(e){var t=(new Date).getTime(),n=0;p.length>0&&(p.forEach(function(e){n+=e}),t-=n),this.log("unloadComplete",null,t,"unloadComplete"),this.sendLogs(!0)},_errorHandler:function(e){if("undefined"==typeof f[e.message+e.lineno.toString()]){var t={lineNo:e.lineno,fileName:e.filename};f[e.message+e.lineno.toString()]=!0,this.log(e.message,t,null,"jsErr")}},timelineStart:function(e){"undefined"==typeof this._timelineMap[e]&&(this._timelineMap[e]=(new Date).getTime())},timelineEnd:function(e,t,n,i){var o;if(o="object"==("undefined"==typeof e?"undefined":r(e))?e:{name:e,status:t,extra:n,type:i||"cstTimeline"},o.status=o.status||"success","undefined"==typeof this._timelineMap[o.name])return this;var a=(new Date).getTime(),s={name:o.name,sta:o.status,st:this._timelineMap[o.name]-u,et:a-u,sp:a-this._timelineMap[o.name],tp:o.type};return v(o.extra)&&(s.extra=m({},o.extra,!0)),delete this._timelineMap[e],this.addLog(s),this},log:function(e,t,n,i){n=n||(new Date).getTime(),i=i||"cstLog";var r={name:e,st:n-u,tp:i};return v(t)&&(r.extra=m({},t,!0)),this._saveNetstat(),this.addLog(r),this},renderCompleted:function(e,t){t=t||null;var n=this;if(n._isRenderCompleted)return this;var i=e||(new Date).getTime();return this.log("renderComplete",t,i,"renderComplete"),n._isRenderCompleted=!0,this},interactCompleted:function(e,t){t=t||null;var n=this;if(n._isInteractCompleted)return this;var i=e||(new Date).getTime();return this.log("interactComplete",t,i,"interactComplete"),n._isInteractCompleted=!0,this},_autoSendLog:function(){var e=this;this._autoSendTimer=setInterval(function(){e.sendLogs()},5e3)},addLog:function(e){return this._timelines.push(e),this.onLog&&this.onLog(e),this},_clearTimelines:function(){this._timelines=[]},_jsonLen:function(e){return encodeURIComponent(JSON.stringify(e)).length},_getEnvData:function(e){return e.spm=this.getPageAB(),e.isOff=this.isOffline(),e.keepword=1,e.guid=u,e.nickName=y("tracknick")||y("cna"),e.tracVer=this.version,e.projVer=this._getSrcVersion(),e.gitRepos=this._getGitRepos(),e.netstat=o.netstat,e.dpr="undefined"!=typeof n.devicePixelRatio?n.devicePixelRatio:"",e.sendTime=(new Date).getTime(),e.sendIndex=l,e.pushVer=o.pushVersion,e},_saveNetstat:function(){o.netstat||this._getNetstat(function(e){o.netstat=e})},sendLogs:function(e){var t=this,i={},r=n.trackerPerformanceTime;if(e="undefined"==typeof e?!1:e,!t._isInteractCompleted&&!e)return this;if(this._getEnvData(i),r.trip_headerTime>0){var o=r.trip_headerTime;r.trip_headerTime=0,this.log("headerComplete",null,o,"headerComplete")}if(r.readyTime>0){var a=r.readyTime;r.readyTime=0,this.log("domComplete",null,a,"domComplete")}if(r.loadTime>0){0==l&&(i.perf=JSON.stringify(this.getPerformance()));var s=r.loadTime;r.loadTime=0,this.log("loadComplete",null,s,"loadComplete")}return l>0&&this._timelines.length<1?this:(this._sendLogs(this._timelines,i),this._clearTimelines(),this)},_sendLogs:function _(e,t){for(var n=this._jsonLen(t),i=e.concat(),_=[],r=this,o=function(e,t){t.logs=JSON.stringify(e),r.sendGoldLog(h.timeline.key,h.timeline.checkCode,t),l++,e.length=0};i.length>0;)_.push(i.shift()),this._jsonLen(_)+n>=c&&o(_,t);_.length>0&&o(_,t)},addGoldLogList:function(t){for(var n=this,i=e.body,r=e.querySelector('meta[name="aplus-touch"]'),o=r?r.getAttribute("content"):0,a=1==o?"touchstart":"click",s=0,c=t.length;c>s;s++){var u=t[s];!function(t){i.addEventListener(a,function(){var i=e.querySelectorAll(t.node);if(i.length)for(var r=arguments[0]||window.event,o=r.srcElement?r.srcElement:r.target,a=0,s=i.length;s>a;a++)if(i[a]==o||g(i[a],o)){n.sendGoldLog(t.goldCode,t.checkCodeNum,t.gokey);break}})}(u)}},sendPageLog:function(t){t&&e.querySelector('meta[name="data-spm"]').setAttribute("data-spm","181."+t),goldlog&&goldlog.sendPV()},sendUserActionLog:function(e,t){var n=this,i=h.userAction;if("object"==("undefined"==typeof t?"undefined":r(t)))t.displayName=e;else{var o="displayName="+e;t=t?t+"&"+o:o}n.sendGoldLog(i.key,i.checkCode,t)},sendGoldLog:function(e,t,n){var i=this;if(n=n||{},"object"==("undefined"==typeof n?"undefined":r(n))){window._prism_lk&&(n._prism_lk=JSON.stringify(window._prism_lk));var o=[];for(var a in n)if(n.hasOwnProperty(a)){var s="undefined"!=typeof n[a]?n[a].toString():"";o.push(a+"="+encodeURIComponent(s))}n=o.join("&")}n+="&spm-cnt="+i._getPageSPM(),i._goldlog(e,n)},_goldlog:function(e,t){var n=new Image,i=s+e+"?",r=["cache="+(new Date).getTime(),"gmkey=","gokey="+encodeURIComponent(t)];n.src=i+r.join("&"),n=null},getPerformance:function(){if(!n.performance||!n.performance.timing)return"";var e=n.performance.timing,t={redirect:e.redirectEnd-e.redirectStart,appCache:e.domainLookupStart-e.fetchStart,dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,request:e.responseStart-e.requestStart,
response:e.responseEnd-e.responseStart,processing:e.domComplete-e.domLoading,onLoad:e.loadEventEnd-e.loadEventStart,fetchStart:e.fetchStart,domLoading:e.domLoading,_domReady:e.domInteractive-e.domLoading,_loaded:e.loadEventEnd-e.domLoading,_network:e.responseEnd-e.fetchStart};return n.performance.memory&&m(t,n.performance.memory,!0,"",!1),t},getResourceTiming:function(){var e={};return n.performance&&n.performance.getEntries?(e.resources=n.performance.getEntries().map(function(e){return{name:e.name,sp:Math.round(e.responseEnd-e.startTime)}}),e.count=e.resources.length,e):""},_getNetstat:function(e){var t=this;if(!window.Bridge)return e("fail"),this;if(t.tripBridge=new window.Bridge,t.tripBridge.isAlitrip)t.tripBridge.getWifiInfo(function(t){return"object"===("undefined"==typeof t?"undefined":r(t))&&t.state?(e(t.state.toLowerCase()),this):(e("fail"),this)});else{if(window.AlipayJSBridge){var n=i.match(/AlipayDefined\(nt\:(\d?.?\d?[A-Za-z|]+)\,/i);return n&&n.length>=2?(e(n[1].toLowerCase()),this):(e("fail"),this)}if(!t.tripBridge.isWindVane||!window.WindVane)return e("fail"),this;window.WindVane.call("WVNetwork","getNetworkType",{},function(t){return"object"===("undefined"==typeof t?"undefined":r(t))&&t.type?(e(t.type.toLowerCase()),this):(e("fail"),this)})}},_getPageSPM:function(){var e=this;return e.getPageAB()+".0.0"},_getSrcVersion:function(){return window.KISSY&&KISSY.Config?KISSY.Config.version||"":""},_getPushVersion:function(){var t=e.querySelector('meta[name="alitrip-push-version"]');return t?t.getAttribute("content"):""},_getGitRepos:function(){var e=function(){var e="",t="";return n.KISSY&&n.KISSY.Config&&n.KISSY.Config.packages&&Object.keys(KISSY.Config.packages).some(function(n){if(t=KISSY.Config.packages[n],t.uri){var i=t.uri.match(/.[com|cn]\/trip\/(h5\-[A-Za-z_-]+)/);if(i&&i.length>1)return e=i[1],!0}}),e};return n.KISSY&&KISSY.Config?KISSY.Config.gitReposName||e():void 0},getPageAB:function(){if(n.goldlog)return n.goldlog.spm_ab.join(".");var t=e.querySelector('meta[name="data-spm"]'),i=e.querySelector('meta[name="spm-id"]');if(t){var r=t.getAttribute("content");return r.indexOf(".")<0&&(r=r+"."+(e.body.getAttribute("data-spm")||"")),r}return i?(r=i.getAttribute("content"),r.indexOf(".")<0&&(r=r+"."+(e.body.getAttribute("data-spm")||"")),r):"0.0"},getEelementABCD:function(e){var t={a:"0",b:"0",c:"0",d:"0"};if(n.g_SPM&&(t=n.g_SPM.getParam(e)),"A"!=e.tagName){var i,r=e.getAttribute("data-spm-click");r=r?r.split(";")[1]:"",i=r?r.split("=d")[1]:0,t.d=i}return t},getEelementABCDForStr:function(e){var t=this,n=t.getEelementABCD(e);return[n.a,n.b,n.c,n.d].join(".")},isOffline:function(){if("undefined"!=typeof n._$isOffline$_)return n._$isOffline$_/1;var t=e.querySelector('meta[name="alitrip-offline"]'),i=t?t.getAttribute("content"):0;return i/1},sendErrorLog:function(e){},sendCustomErrorLog:function(e){},_addErrorMonitor:function(){},sendCustomPerformanceLog:function(e){},recordPerformance:function(){},_collectionPerformanceInfo:function(){},_getLoadPerformance:function(){},_sendCustomPerformance:function(){},sendCustomPerformance:function(e){},_getDPI:function(){},_getPageId:function(){},_getUtdid:function(){},_getUrlParam:function(e,t){var i;return t=t||n.location.href,t=t.match("#")?t.split("#")[1]:t,i=t.match(new RegExp("[?&]"+e+"=([^&#]*)([&#]?)","i")),i?decodeURIComponent(i[1]):i},recordVisibileTime:function(){this.log("recordVisibileTime Deprecated ",null,null,"trac")},send:function(e){this.sendGoldLog("tbjipiao.100.1","H46866756",e)},sendButton:function(e){this.log("sendButton Deprecated ",null,null,"trac"),this.sendGoldLog("tbjipiao.100.1","H46866756",e)},sendPoint:function(e){this.sendGoldLog("tbjipiao.100.1","H46866756",e)},sendWindVane:function(){},sendAplus:function(){},sendBridge:function(){},performance:function(){},mtopError:function(e){this.sendCustomErrorLog(e)},startMark:function(e){},endMark:function(e){},measure:function(e){},clearMark:function(e){}},window.MT||(window.MT={}),window.MT.Tracker=new t,window.MT.Aplus=function(e){window.MT.Tracker.send(e)},window.MT.Tracker}(document);window.KISSY&&KISSY.add("tracker/index",function(){return window.MT.Tracker}),t["default"]=o}])})}).call(t,n(4)(e))}])});